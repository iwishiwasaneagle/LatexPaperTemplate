\begin{tikzpicture}[item/.style={circle,draw,thick,align=center},
    itemc/.style={item,on chain,join}]

    \begin{scope}[start chain=going right,nodes=itemc,every
        join/.style={-latex,very thick},local bounding box=chain]
        \path node (A0) {$A$} node (A1) {$A$} node (A2) {$A$} node[xshift=2em] (At)
        {$A$};
    \end{scope}

    \foreach \X in {0,1,2,t}
    {
        \draw[very thick,-latex] (A\X.north) -- ++ (0,2em)
        node[above,item,fill=gray!10] (h\X) {$h_\X$};
        \draw[very thick,latex-] (A\X.south) -- ++ (0,-2em)
        node[below,item,fill=gray!10] (x\X) {$x_\X$};
    }
\end{tikzpicture}